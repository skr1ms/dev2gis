# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Environment type: dev, production, prod
ENVIRONMENT=dev

# =============================================================================
# POSTGRESQL DATABASE
# =============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=root
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=uav_heights_map

# =============================================================================
# RABBITMQ MESSAGE BROKER
# =============================================================================
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=change_me_in_production
RABBITMQ_QUEUE_NAME=heightmap.tasks
RABBITMQ_EXCHANGE=
RABBITMQ_ROUTING_KEY=heightmap.tasks
RABBITMQ_PREFETCH_COUNT=1
RABBITMQ_CONNECTION_TIMEOUT=30s
RABBITMQ_RECONNECT_DELAY=5s
RABBITMQ_PUBLISH_RETRIES=3
RABBITMQ_DURABLE_QUEUE=true
RABBITMQ_AUTO_DELETE=false

# =============================================================================
# MINIO S3 STORAGE
# =============================================================================
MINIO_ENDPOINT=minio:9000
MINIO_PUBLIC_URL=http://localhost:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=change_me_in_production
MINIO_UAV_DATA_BUCKET=uav-data
MINIO_UAV_MODELS_BUCKET=uav-models
MINIO_UAV_PHOTOPLANES_BUCKET=uav-photoplanes
MINIO_REGION=us-east-1
MINIO_USE_SSL=false
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001
MINIO_SITE_REPLICATION_ENABLED=false

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Access token secret (min 32 characters)
ACCESS_TOKEN_SECRET=change_me_secret_key_minimum_32_characters_here
# Refresh token secret (min 32 characters)
REFRESH_TOKEN_SECRET=change_me_refresh_secret_key_minimum_32_characters
# Access token time-to-live (e.g., 30m, 1h, 24h)
JWT_ACCESS_TTL=30m
# Refresh token time-to-live (e.g., 168h = 7 days)
JWT_REFRESH_TTL=168h

# =============================================================================
# LOGGING
# =============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# API URL accessible from browser
NEXT_PUBLIC_API_URL=http://localhost:81
# Environment displayed in frontend
NEXT_PUBLIC_ENVIRONMENT=development

# =============================================================================
# NODE & NGINX
# =============================================================================
# Node environment: development, production
NODE_ENV=production
# Nginx config file: dev.conf, prod.conf
NGINX_CONFIG=prod.conf

# =============================================================================
# NODEODM (OpenDroneMap) PROCESSING
# =============================================================================
# NodeODM service URL (internal Docker network)
NODEODM_URL=http://nodeodm:3000
# Maximum number of concurrent ODM tasks (1-4 recommended)
NODEODM_MAX_CONCURRENCY=1

# =============================================================================
# GRAFANA MONITORING
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_in_production
# Allow users to sign up: true, false
GRAFANA_ALLOW_SIGN_UP=false
# Grafana root URL
GRAFANA_SERVER_ROOT_URL=http://localhost:3000